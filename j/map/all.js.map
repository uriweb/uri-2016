{"version":3,"sources":["uri-menu.js","uri-next.js","uri-search.js","uri-social.js","customizer.js","navigation.js","skip-link-focus-fix.js"],"names":["initNav","tab","document","getElementById","nav","addEventListener","toggleNavClass","className","includes","replace","nextOnScreen","showNext","el","isElementInViewport","rect","getBoundingClientRect","top","left","window","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth","initGlobalSearch","f","querySelector","dataset","originalAction","action","googleAction","wordpress_environment","base_url","cx","createElement","type","name","value","appendChild","addRadioButtons","soc","id","ls","switchToLocalSearch","lsl","createTextNode","gs","gsl","switchToGoogleSearch","location","href","search","click","e","field","initSVGHovers","els","querySelectorAll","i","length","svg","contentDocument","this","setAttribute","$","wp","customize","bind","to","text","css","clip","position","color","src","theme_url","backgroundImage","console","log","backgroundColor","jQuery","toggleFocus","self","indexOf","tagName","toLowerCase","parentElement","container","button","menu","links","subMenus","len","getElementsByTagName","style","display","onclick","innerHTML","getAttribute","parentNode","isWebkit","navigator","userAgent","isOpera","isIe","element","hash","substring","test","tabIndex","focus"],"mappings":"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","file":"all.js","sourcesContent":["/**\n * File uri-menu.js.\n *\n * Handles toggling the main URI menu\n */\n \ndocument.addEventListener(\"DOMContentLoaded\", function() {\n\tinitNav();\n}, false);\n\nfunction initNav() {\n\tvar tab = document.getElementById(\"nav-toggle\");\n\tvar nav = document.getElementById(\"nav\");\n\ttab.addEventListener(\"click\", toggleNavClass, false);\n\tnav.className = \"closed\";\n\t// @todo: make this elegant\n\tdocument.getElementById(\"nav-close\").addEventListener(\"click\", function(){\n\t\tnav.className = \"closed\";\n\t}, false);\n}\n\nfunction toggleNavClass() {\n\tvar nav = document.getElementById(\"nav\");\n\tif(nav.className.includes(\"closed\")) {\n\t\tnav.className = nav.className.replace(/closed/i, \"open\");\n\t} else {\n\t\tnav.className = nav.className.replace(/open/, \"closed\");\n\t}\n}","/**\n * File uri-next.js.\n *\n * Handles animation for the \"up next\" box\n */\n\nvar showNext = false;\n\nwindow.addEventListener(\"load\", function() {\n\tvar el = document.getElementById(\"uri-next\");\n\tif(el === null) {\n\t\treturn;\n\t}\n\twindow.addEventListener(\"scroll\", function() {\n\t\tnextOnScreen();\n\t}, false);\n\tel.className += \" hidden\";\n}, false);\n\n\nfunction nextOnScreen() {\n\tif(showNext) return;\n\tvar el = document.getElementById(\"uri-next\");\n\tif( isElementInViewport(el) ) {\n\t\tel.className = el.className.replace(/hidden/i, \"shown\");\n\t\tshowNext = true;\n\t} else {\n\t\tel.className = el.className.replace(/shown/i, \"hidden\");\n\t}\n}\n\nfunction isElementInViewport(el) {\n\n\tvar rect = el.getBoundingClientRect();\n\n\treturn (\n\t\trect.top >= 0 &&\n\t\trect.left >= 0 &&\n\t\trect.top <= (window.innerHeight || document.documentElement.clientHeight) && /*or $(window).height() */\n\t\trect.right <= (window.innerWidth || document.documentElement.clientWidth) /*or $(window).width() */\n\t);\n}\n","/**\n * File uri-search.js.\n *\n * Adds an option to search globally\n */\n\nwindow.addEventListener(\"load\", function() {\n\tinitGlobalSearch();\n}, false);\n\nfunction initGlobalSearch() {\n\tvar f = document.querySelector('#uri-header .search-form');\n\tf.dataset.originalAction = f.action;\n\tf.dataset.googleAction = wordpress_environment.base_url + '/uri-search';\n\tf.dataset.cx = '016863979916529535900:17qai8akniu';\n\t\n\tvar cx =  document.createElement('input');\n\tcx.type='hidden';\n\tcx.name='cx';\n\tcx.className='cx-field';\n\tcx.value='';\n\tf.appendChild(cx);\n\t\n\taddRadioButtons(f);\n}\n\nfunction addRadioButtons(f) {\n\t\n\tvar soc = document.createElement('div');\n\tsoc.id = 'search-options-container';\n\t\n\tvar ls = document.createElement('input');\n\tls.type='radio';\n\tls.name='search-option';\n\tls.value='uritoday';\n\tls.id='local-search';\n\tls.addEventListener('click', switchToLocalSearch, false);\n\tvar lsl = document.createElement('label');\n\tlsl.className='search-options';\n\tlsl.appendChild(ls);\n\tlsl.appendChild(document.createTextNode('URI Today'));\n\t\n\tsoc.appendChild(lsl);\n\t\n\tvar gs = document.createElement('input');\n\tgs.type='radio';\n\tgs.name='search-option';\n\tgs.value='google';\n\tgs.id='global-search';\n\tvar gsl = document.createElement('label');\n\tgsl.className='search-options';\n\tgsl.appendChild(gs);\n\tgsl.appendChild(document.createTextNode('All of URI'));\n\t\n\tgs.addEventListener('click', switchToGoogleSearch, false);\n\n\t\n\tsoc.appendChild(gsl);\n\t\n\tf.appendChild(soc);\n\t\n\tif(window.location.href.search(/s=/) != -1) {\n\t\tls.click();\n\t} else {\n\t\tgs.click();\n\t}\n\t\n}\n\nfunction switchToLocalSearch(e) {\n\tvar f = document.querySelector('#uri-header .search-form');\n\tf.action = f.dataset.originalAction;\n\tvar field = document.querySelector('#uri-header .search-field');\n\tfield.name = 's';\n}\n\nfunction switchToGoogleSearch(e) {\n\tvar f = document.querySelector('#uri-header .search-form');\n\tf.action = f.dataset.googleAction;\n\n\tvar ls = document.createElement('input');\n\tls.type='radio';\n\tls.name='search-option';\n\tls.value='uritoday';\n\tls.id='local-search';\n\t\n\tvar field = document.querySelector('#uri-header .search-field');\n\tfield.name = 'q';\n\n\tvar cx = document.querySelector('#uri-header .cx-field');\n\tcx.value = f.dataset.cx;\n\t\n\t\n}","/**\n * File uri-social.js.\n *\n * Handles rollovers for social icons on the front page\n */\n \nwindow.addEventListener(\"load\", function() {\n\tinitSVGHovers();\n}, false);\n\nfunction initSVGHovers() {\n\tvar els = document.querySelectorAll(\".social-logo\");\n\tfor(var i=0; i<els.length; i++) {\n\t\tvar svg = els[i].contentDocument;\n\t\tsvg.addEventListener(\"mouseover\", function() {\n\t\t\tthis.getElementById(\"icon\").setAttribute(\"fill\", \"#032553\");\n\t\t});\n\t\tsvg.addEventListener(\"mouseout\", function() {\n\t\t\tthis.getElementById(\"icon\").setAttribute(\"fill\", \"#4990E2\");\n\t\t});\n\t}\n}\n","/**\n * File customizer.js.\n *\n * Theme Customizer enhancements for a better user experience.\n *\n * Contains handlers to make Theme Customizer preview reload changes asynchronously.\n */\n\n( function( $ ) {\n\n\t// Site title and description.\n\twp.customize( 'blogname', function( value ) {\n\t\tvalue.bind( function( to ) {\n\t\t\t$( '.site-title a' ).text( to );\n\t\t} );\n\t} );\n\twp.customize( 'blogdescription', function( value ) {\n\t\tvalue.bind( function( to ) {\n\t\t\t$( '.site-description' ).text( to );\n\t\t} );\n\t} );\n\n\t// Header text color.\n\twp.customize( 'header_textcolor', function( value ) {\n\t\tvalue.bind( function( to ) {\n\t\t\tif ( 'blank' === to ) {\n\t\t\t\t$( '.site-title a, .site-description' ).css( {\n\t\t\t\t\t'clip': 'rect(1px, 1px, 1px, 1px)',\n\t\t\t\t\t'position': 'absolute'\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\t$( '.site-title a, .site-description' ).css( {\n\t\t\t\t\t'clip': 'auto',\n\t\t\t\t\t'position': 'relative'\n\t\t\t\t} );\n\t\t\t\t$( '.site-title a, .site-description' ).css( {\n\t\t\t\t\t'color': to\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t} );\n\n\twp.customize( 'header_text_tint', function( value ) {\n\t\tvalue.bind( function( to ) {\n\t\t\tvar src = ( to ) ? 'url(' + wordpress_environment.theme_url + '/img/black30.png)' : 'none';\n\t\t\t$( '.site-branding' ).css( {\n\t\t\t\tbackgroundImage : src\n\t\t\t} );\n\t\t} );\n\t} );\n\n\twp.customize( 'header_bg_color', function( value ) {\n\t\t\tconsole.log( 'hi' );\n\t\tvalue.bind( function( to ) {\n\t\t\tconsole.log( to );\n\t\t\t$( '.site-header' ).css( {\n\t\t\t\tbackgroundColor : to\n\t\t\t} );\n\t\t} );\n\t} );\n\t\n\t\n} )( jQuery );\n","/**\n * File navigation.js.\n *\n * Handles toggling the navigation menu for small screens and enables TAB key\n * navigation support for dropdown menus.\n */\n( function() {\n\tvar container, button, menu, links, subMenus, i, len;\n\n\tcontainer = document.getElementById( 'site-navigation' );\n\tif ( ! container ) {\n\t\treturn;\n\t}\n\n\tbutton = container.getElementsByTagName( 'button' )[0];\n\tif ( 'undefined' === typeof button ) {\n\t\treturn;\n\t}\n\n\tmenu = container.getElementsByTagName( 'ul' )[0];\n\n\t// Hide menu toggle button if menu is empty and return early.\n\tif ( 'undefined' === typeof menu ) {\n\t\tbutton.style.display = 'none';\n\t\treturn;\n\t}\n\n\tmenu.setAttribute( 'aria-expanded', 'false' );\n\tif ( -1 === menu.className.indexOf( 'nav-menu' ) ) {\n\t\tmenu.className += ' nav-menu';\n\t}\n\n\tbutton.onclick = function() {\n\t\tif ( -1 !== container.className.indexOf( 'toggled' ) ) {\n\t\t\tcontainer.className = container.className.replace( ' toggled', '' );\n\t\t\tbutton.setAttribute( 'aria-expanded', 'false' );\n\t\t\tbutton.innerHTML = button.getAttribute( 'data-text' );\n\t\t\tmenu.setAttribute( 'aria-expanded', 'false' );\n\t\t} else {\n\t\t\tcontainer.className += ' toggled';\n\t\t\tbutton.setAttribute( 'aria-expanded', 'true' );\n\t\t\tbutton.setAttribute( 'data-text', button.innerHTML );\n\t\t\tbutton.innerHTML = 'Close';\n\t\t\tmenu.setAttribute( 'aria-expanded', 'true' );\n\t\t}\n\t};\n\n\t// Get all the link elements within the menu.\n\tlinks    = menu.getElementsByTagName( 'a' );\n\tsubMenus = menu.getElementsByTagName( 'ul' );\n\n\t// Set menu items with submenus to aria-haspopup=\"true\".\n\tfor ( i = 0, len = subMenus.length; i < len; i++ ) {\n\t\tsubMenus[i].parentNode.setAttribute( 'aria-haspopup', 'true' );\n\t}\n\n\t// Each time a menu link is focused or blurred, toggle focus.\n\tfor ( i = 0, len = links.length; i < len; i++ ) {\n\t\tlinks[i].addEventListener( 'focus', toggleFocus, true );\n\t\tlinks[i].addEventListener( 'blur', toggleFocus, true );\n\t}\n\n\t/**\n\t * Sets or removes .focus class on an element.\n\t */\n\tfunction toggleFocus() {\n\t\tvar self = this;\n\n\t\t// Move up through the ancestors of the current link until we hit .nav-menu.\n\t\twhile ( -1 === self.className.indexOf( 'nav-menu' ) ) {\n\n\t\t\t// On li elements toggle the class .focus.\n\t\t\tif ( 'li' === self.tagName.toLowerCase() ) {\n\t\t\t\tif ( -1 !== self.className.indexOf( 'focus' ) ) {\n\t\t\t\t\tself.className = self.className.replace( ' focus', '' );\n\t\t\t\t} else {\n\t\t\t\t\tself.className += ' focus';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tself = self.parentElement;\n\t\t}\n\t}\n} )();\n","/**\n * File skip-link-focus-fix.js.\n *\n * Helps with accessibility for keyboard only users.\n *\n * Learn more: https://git.io/vWdr2\n */\n( function() {\n\tvar isWebkit = navigator.userAgent.toLowerCase().indexOf( 'webkit' ) > -1,\n\t    isOpera  = navigator.userAgent.toLowerCase().indexOf( 'opera' )  > -1,\n\t    isIe     = navigator.userAgent.toLowerCase().indexOf( 'msie' )   > -1;\n\n\tif ( ( isWebkit || isOpera || isIe ) && document.getElementById && window.addEventListener ) {\n\t\twindow.addEventListener( 'hashchange', function() {\n\t\t\tvar id = location.hash.substring( 1 ),\n\t\t\t\telement;\n\n\t\t\tif ( ! ( /^[A-z0-9_-]+$/.test( id ) ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\telement = document.getElementById( id );\n\n\t\t\tif ( element ) {\n\t\t\t\tif ( ! ( /^(?:a|select|input|button|textarea)$/i.test( element.tagName ) ) ) {\n\t\t\t\t\telement.tabIndex = -1;\n\t\t\t\t}\n\n\t\t\t\telement.focus();\n\t\t\t}\n\t\t}, false );\n\t}\n})();\n"],"sourceRoot":"/source/"}